THRIFT="/usr/local/thrift-0.6.1/"
LIBEVENT="/usr/local/libevent-2.0.12/"

src = [
     'test.cpp',
     'CalculatorHandler.cpp',
     'gen-cpp/shared_constants.cpp',
     'gen-cpp/shared_types.cpp',
     'gen-cpp/tutorial_constants.cpp',
     'gen-cpp/tutorial_types.cpp',
     'gen-cpp/Calculator.cpp',
     'gen-cpp/SharedService.cpp',
]

cpppath = [
    "gen-cpp",
    THRIFT + 'include/thrift',
    LIBEVENT + 'include',
]

libpath = [
    THRIFT + 'lib',
    LIBEVENT + 'lib',
]

libs = [
    'thrift',
    'thriftnb',
    'event',
]

env = Environment(CPPPATH=cpppath, LIBPATH=libpath, LIBS=libs)
env.Append(CCFLAGS="-g")
env.Append(CFLAGS="-g")
env.Append(LINKFLAGS="-g")

env.Program('test', src)
